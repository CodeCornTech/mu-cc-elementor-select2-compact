## 🚀 CodeCorn™ MU – Select2 Compat `v1.1.71`

**Date:** 2025-10-20
**Repository:** [CodeCornTech/mu-cc-select2-compat](https://github.com/CodeCornTech/mu-cc-select2-compat)
**Author:** [CodeCorn™ Technology](https://github.com/CodeCornTech)
**License:** MIT

---

### 🧩 Summary

This release finalizes the **passive event shim** and introduces **runtime meta exposure**, bringing the MU plugin to a completely warning-free and production-stable state.
Zero flicker, zero Chrome “scroll-blocking” alerts — **instant-init Select2** for Elementor forms.

---

### ✨ Highlights

#### ⚙️ Strict passive shim

Now **enforces `passive:true`** on:

-   `wheel`
-   `touchstart`
-   `touchmove`

✅ Chrome no longer reports scroll-blocking listeners.
If any widget really needs `preventDefault()`, toggle `FORCE_STRICT = false` inside `first.js` (single line).

#### 🧠 Meta exposed to JS

You can now access plugin meta directly:

```js
window.CC_S2.version; // "1.1.71"
window.CC_S2.vendor; // "4.0.13"
window.CC_S2_VERSION; // alias
window.CC_S2_VENDOR;
```

#### 💡 Improved stability

-   Polished i18n locale mapping & fallback (`it-IT` → `it` → `en`)
-   Verified Elementor popup & Bootstrap modal dropdown parenting
-   Unified debug logs and console banners

---

### 🧾 Changelog

**Added**

-   Strict passive shim for all scroll-sensitive events
-   Global meta variables (`window.CC_S2_META`, `window.CC_S2.version`, etc.)
-   Updated README and internal documentation

**Changed**

-   `first.js`: enforced `FORCE_STRICT = true`
-   Improved i18n detection and debug output

**Fixed**

-   Final removal of Chrome `non-passive wheel` warnings
-   Rare dropdown rendering issue inside nested modals

---

### 🧱 File Summary

| Path                      | Purpose                            |
| ------------------------- | ---------------------------------- |
| `assets/js/first.js`      | Passive event shim (before vendor) |
| `assets/js/pre.js`        | Bridge (pre + post boot)           |
| `assets/js/init.js`       | Lazy init, observers, i18n loader  |
| `assets/css/critical.css` | Base + dark-mode styling           |
| `vendors/select2`         | Vendor-scoped Select2 4.0.13       |

---

### 🧰 Load Order

```
[first.js] → [select2.full.min.js] → [pre.js] → [init.js]
```

Ensures the passive shim precedes vendor load and `$.fn.ccSelect2` is ready for Elementor hooks.

---

### ❤️ Maintainer

**Federico Girolami** — [@fgirolami29](https://github.com/fgirolami29)
Maintained under **CodeCorn™ Technology**

---

### 📝 License

MIT — © CodeCorn™ Technology

---
